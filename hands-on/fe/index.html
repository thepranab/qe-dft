<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.88de3a510">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css" integrity="sha384-Um5gpz1odJg5Z4HAmzPtgZKdTBHZdw8S29IecapCSB31ligYPhHQZMIlWLYQGVoc" crossorigin="anonymous"><title data-react-helmet="true">Magnetic system: bulk iron | Density Functional Theory calculation using Quantum Espresso</title><meta data-react-helmet="true" property="og:url" content="https://pranabdas.github.io/espresso/hands-on/fe"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Magnetic system: bulk iron | Density Functional Theory calculation using Quantum Espresso"><meta data-react-helmet="true" name="description" content="I am following this example from the [ICTP online school 2021]("><meta data-react-helmet="true" property="og:description" content="I am following this example from the [ICTP online school 2021]("><link data-react-helmet="true" rel="shortcut icon" href="/espresso/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://pranabdas.github.io/espresso/hands-on/fe"><link data-react-helmet="true" rel="alternate" href="https://pranabdas.github.io/espresso/hands-on/fe" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://pranabdas.github.io/espresso/hands-on/fe" hreflang="x-default"><link rel="stylesheet" href="/espresso/assets/css/styles.10318414.css">
<link rel="preload" href="/espresso/assets/js/runtime~main.58666d30.js" as="script">
<link rel="preload" href="/espresso/assets/js/main.64aa6d30.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbarHideable_2qcr"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/espresso/"><img src="/espresso/img/favicon.ico" alt="Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/espresso/img/favicon.ico" alt="Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Quantum Espresso</b></a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__item navbar__link">Docs</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/espresso/">Quantum Espresso Tutorial</a></li><li><a class="dropdown__link">~ ~ ~ Other Docs ~ ~ ~</a></li><li><a href="https://pranabdas.github.io/arpespythontools/" target="_self" rel="noopener noreferrer" class="dropdown__link">ARPES Python Tools</a></li><li><a href="https://pranabdas.github.io/linux/" target="_self" rel="noopener noreferrer" class="dropdown__link">Linux Tutorial</a></li><li><a href="https://pranabdas.github.io/machine-learning/" target="_self" rel="noopener noreferrer" class="dropdown__link">Machine Learning Notes</a></li><li><a href="https://pranabdas.github.io/python-tutorial/" target="_self" rel="noopener noreferrer" class="dropdown__link">Python Tutorial</a></li><li><a href="https://pranabdas.github.io/suvtools/" target="_self" rel="noopener noreferrer" class="dropdown__link">SUV Python Tools</a></li><li><a href="https://pranabdas.github.io/docs/condmat-notes/" target="_blank" rel="noopener noreferrer" class="dropdown__link"><span>Condensed Matter Notes<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a href="https://pranabdas.github.io/docs/fortran/" target="_blank" rel="noopener noreferrer" class="dropdown__link"><span>Fortran Programming<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a href="https://pranabdas.github.io/docs/fullprof/" target="_blank" rel="noopener noreferrer" class="dropdown__link"><span>FullProf Tutorial<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a href="https://pranabdas.github.io/docs/js-learning/" target="_blank" rel="noopener noreferrer" class="dropdown__link"><span>Javascript Tutorial<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li><a href="https://pranabdas.github.io/docs/arpes-suv-man/" target="_blank" rel="noopener noreferrer" class="dropdown__link"><span>SUV ARPES Manual<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><a href="https://pranabdas.github.io" target="_self" rel="noopener noreferrer" class="navbar__item navbar__link">About me</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/pranabdas/espresso" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo sidebarWithHideableNavbar_267A"><a tabindex="-1" class="sidebarLogo_3h0W" href="/espresso/"><img src="/espresso/img/favicon.ico" alt="Logo" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/espresso/img/favicon.ico" alt="Logo" class="themedImage_1VuW themedImage--dark_hz6m"><b>Quantum Espresso</b></a><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">List of Pages</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/espresso/">Welcome</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Theory</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Setup</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Hands-on</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/espresso/hands-on/scf">SCF calculation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/espresso/hands-on/convergence">Convergence testing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/espresso/hands-on/structure-optimization">Structure optimization</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/espresso/hands-on/dos">DOS calculation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/espresso/hands-on/bands">Bandstructure</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/espresso/hands-on/aluminum">Al (metal)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/espresso/hands-on/pdos">P-DOS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/espresso/hands-on/kpdos">k-resolved DOS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/espresso/hands-on/graphene">Graphene</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/espresso/hands-on/GaAs">GaAs</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/espresso/hands-on/fe">Fe (magnetic)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/espresso/hands-on/ni">Ni (spin pol. bands)</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/espresso/hands-on/dft-u">DFT+U calculation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/espresso/hands-on/soc">Spin-Orbit Coupling</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/espresso/hands-on/Bi2Se3">Bi2Se3 (TI)</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/espresso/resources">Resources</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/espresso/license">License</a></li></ul></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_1CGd"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_3E-R"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="margin-vert--md tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="markdown"><header><h1 class="h1Heading_27L5">Magnetic system: bulk iron</h1></header><p>I am following this example from the <a href="https://gitlab.com/QEF/materials-for-max-qe2021-online-school" target="_blank" rel="noopener noreferrer">ICTP online school 2021</a>.</p><p>We will perform the SCF KS orbital calculations on magnetic (<code>nspin=2</code>) iron.
Since the d-orbitals of Fe atom are localized/ hard, we will use ultra-soft
pseudo potential (USPP).</p><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>If we have crystal structure with only one atom per unit cell, or only one type
of atoms, the only possible ordering is ferromagnetic. In such cases, we need to
form supercell with more number of atoms or label multiple atoms separately, so
that their magnetic orientation could be different thus having the possibility
of ferro- or antiferromagnetic final states.</p></div></div><p>Run the SCF calculations for both ferro- and antiferromagnetic structures.
Notice that for ferromagnetic, we have BCC structure with only one type of atom,
while we use simple cubic structure for antiferromagnetic case with two
different atomic labels. For antiferromagnetic calculation, we need to start
with opposite initial spins.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f6f6"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">pw.x -i pw.scf.fe_fm.in </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> pw.scf.fe_fm.out</span></span><span class="token-line" style="color:#393A34"><span class="token plain">pw.x -i pw.scf.fe_afm.in </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> pw.scf.fe_afm.out</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>In case of ultrasoft pseudo potentials, the Quantum Espresso default of
<code>ecutrho</code> 4 times of <code>ecutoff</code> is not sufficient. We need to set <code>ecutrho</code> 8 or
even 12 times that of <code>ecutoff</code>. We must test the convergence for our set
values.</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="convergence-test-for-uspp"></a>Convergence test for USPP<a class="hash-link" href="#convergence-test-for-uspp" title="Direct link to heading">#</a></h2><p>Below is the PWTK script file:</p><div class="codeBlockContainer_K1bP"><div style="color:#393A34;background-color:#f6f6f6" class="codeBlockTitle_eoMF">src/fe/fe_ecut.pwtk</div><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar codeBlockWithTitle_2JqI" style="color:#393A34;background-color:#f6f6f6"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># load the pw.x input from file</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">load_fromPWI pw.scf.fe_fm.in</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># dual is the ratio ecutrho/ecutwfc</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">foreach dual </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">12</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token builtin class-name">set</span><span class="token plain"> fid </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">open etot-vs-ecutwfc.dual</span><span class="token variable" style="color:#36acaa">$dual</span><span class="token plain">.dat w</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    foreach ecutwfc </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">seq </span><span class="token number" style="color:#36acaa">25</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">50</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token builtin class-name">set</span><span class="token plain"> name pw.Fe.scf.ecutwfc-</span><span class="token variable" style="color:#36acaa">$ecutwfc</span><span class="token plain">.dual-</span><span class="token variable" style="color:#36acaa">$dual</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        SYSTEM </span><span class="token string" style="color:#e3116c">&quot;ecutwfc = </span><span class="token string variable" style="color:#36acaa">$ecutwfc</span><span class="token string" style="color:#e3116c"></span></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">                ecutrho = </span><span class="token string variable" style="color:#36acaa">$ecutwfc</span><span class="token string" style="color:#e3116c">*</span><span class="token string variable" style="color:#36acaa">$dual</span><span class="token string" style="color:#e3116c"> &quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        runPW </span><span class="token variable" style="color:#36acaa">$name</span><span class="token plain">.in</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token builtin class-name">set</span><span class="token plain"> Etot </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">pwo_totene </span><span class="token variable" style="color:#36acaa">$name</span><span class="token plain">.out</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">        puts </span><span class="token variable" style="color:#36acaa">$fid</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;</span><span class="token string variable" style="color:#36acaa">$ecutwfc</span><span class="token string" style="color:#e3116c"> </span><span class="token string variable" style="color:#36acaa">$Etot</span><span class="token string" style="color:#e3116c">&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    close </span><span class="token variable" style="color:#36acaa">$fid</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Run the script:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f6f6"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">pwtk fe_ecut.pwtk</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><img alt="Fe convergence" src="/espresso/assets/images/fe-convergence-2aefca15b3e0939d06ca680afb8a71a1.png"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="density-of-states-calculation"></a>Density of states calculation<a class="hash-link" href="#density-of-states-calculation" title="Direct link to heading">#</a></h2><p>PWTK script to calculate DOS and p-DOS:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f6f6"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">load_fromPWI pw.scf.fe_fm.in</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">SYSTEM </span><span class="token string" style="color:#e3116c">&quot; ecutwfc = 40</span></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">         ecutrho = 320 &quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">set</span><span class="token plain"> name Fe</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">runPW pw.</span><span class="token variable" style="color:#36acaa">$name</span><span class="token plain">.scf.in</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">CONTROL </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> calculation </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;nscf&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">SYSTEM  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> occupations </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;tetrahedra&#x27;</span><span class="token plain"> ,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">          degauss </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ,  </span><span class="token operator" style="color:#393A34">!</span><span class="token plain"> this is how variable is </span><span class="token builtin class-name">unset</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> PWTK</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">K_POINTS automatic </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token number" style="color:#36acaa">12</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">12</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">12</span><span class="token plain">   </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">runPW pw.</span><span class="token variable" style="color:#36acaa">$name</span><span class="token plain">.nscf.in</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">DOS </span><span class="token string" style="color:#e3116c">&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    fildos = &#x27;</span><span class="token string variable" style="color:#36acaa">$name</span><span class="token string" style="color:#e3116c">.dos.dat&#x27;</span></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    Emin = 5.0</span></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    Emax = 20.0,</span></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    DeltaE = 0.1</span></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">runDOS dos.</span><span class="token variable" style="color:#36acaa">$name</span><span class="token plain">.in</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">PROJWFC </span><span class="token string" style="color:#e3116c">&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    filpdos = &#x27;</span><span class="token string variable" style="color:#36acaa">$name</span><span class="token string" style="color:#e3116c">.pdos.dat&#x27;</span></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    Emin = 5.0</span></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    Emax = 20.0,</span></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    DeltaE = 0.1</span></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">&quot;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">runPROJWFC projwfc.</span><span class="token variable" style="color:#36acaa">$name</span><span class="token plain">.in</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Below is the plots of total and projected density of states.</p><p><img alt="density of states" src="/espresso/assets/images/fe-dos-27c1fcc8eaec7d396fa1bc74be579cc2.png"></p><p><img alt="projected density of states" src="/espresso/assets/images/fe-pdos-776c198dd46078519795539284ddfcd0.png"></p><p>Also see bandstructure of Fe with and without <a href="/espresso/hands-on/soc#bandstructure-of-fe-with-soc">SOC</a>.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/pranabdas/espresso/blob/master/docs/hands-on/fe.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_3DPF"></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/espresso/hands-on/GaAs"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« GaAs</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/espresso/hands-on/ni"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Ni (spin pol. bands) Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#convergence-test-for-uspp" class="table-of-contents__link">Convergence test for USPP</a></li><li><a href="#density-of-states-calculation" class="table-of-contents__link">Density of states calculation</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 Pranab Das. All rights
      reserved.</div></div></div></footer></div>
<script src="/espresso/assets/js/runtime~main.58666d30.js"></script>
<script src="/espresso/assets/js/main.64aa6d30.js"></script>
</body>
</html>